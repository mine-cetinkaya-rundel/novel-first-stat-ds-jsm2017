<!DOCTYPE html>
<html>
<head>
  <title>Three Methods for Statistical Inference</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="jsm2017_files/rmdshower/node_modules/shower-ribbon/styles/screen-16x10.css">
  <link rel="stylesheet" href="jsm2017_files/rmdshower/style-common.css">
  <link rel="stylesheet" href="jsm2017_files/rmdshower/style-ribbon.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js"></script>
  <script src="jsm2017_files/rmdshower/auto-render.min.js" type="text/javascript"></script>
  
  
    <style type="text/css">
   div.sourceCode { overflow-x: auto; }
   table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
     margin: 0; padding: 0; vertical-align: baseline; border: none; }
   table.sourceCode { width: 100%; line-height: 100%; }
   td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
   td.sourceCode { padding-left: 5px; }
   code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
   code > span.dt { color: #902000; } /* DataType */
   code > span.dv { color: #40a070; } /* DecVal */
   code > span.bn { color: #40a070; } /* BaseN */
   code > span.fl { color: #40a070; } /* Float */
   code > span.ch { color: #4070a0; } /* Char */
   code > span.st { color: #4070a0; } /* String */
   code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
   code > span.ot { color: #007020; } /* Other */
   code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
   code > span.fu { color: #06287e; } /* Function */
   code > span.er { color: #ff0000; font-weight: bold; } /* Error */
   code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
   code > span.cn { color: #880000; } /* Constant */
   code > span.sc { color: #4070a0; } /* SpecialChar */
   code > span.vs { color: #4070a0; } /* VerbatimString */
   code > span.ss { color: #bb6688; } /* SpecialString */
   code > span.im { } /* Import */
   code > span.va { color: #19177c; } /* Variable */
   code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
   code > span.op { color: #666666; } /* Operator */
   code > span.bu { } /* BuiltIn */
   code > span.ex { } /* Extension */
   code > span.pp { color: #bc7a00; } /* Preprocessor */
   code > span.at { color: #7d9029; } /* Attribute */
   code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
   code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
   code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
   code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  
  
  
</head>

<body class="shower list">

  <header class="caption">
    <h1>Three Methods for Statistical Inference</h1>
    <p>Ben Baumer</p>
  </header>

    
  
<section id="three-methods-for-statistical-inference" class="slide level2 white">
<h2>Three Methods for Statistical Inference</h2>
<p><img src="http://1.bp.blogspot.com/-ueOnJA9cGJk/VHWza-0saaI/AAAAAAAAP4g/WTbdP2qNSaE/s1920/monkey-wallpaper-hd.jpg" class="cover height"></p>
</br></br></br>
<p class="white">
Ben Baumer</br> JSM Baltimore</br> August 1st, 2017</br> (<a href="https://github.com/mine-cetinkaya-rundel/novel-first-stat-ds-jsm2017" class="uri">https://github.com/mine-cetinkaya-rundel/novel-first-stat-ds-jsm2017</a>)
</p>
</section>
<section id="why-am-i-talking-about-inference" class="titleslide slide level1"><h2 class="shout">Why am I talking about inference?</h2></section><section id="inference" class="slide level2">
<h2>Inference</h2>
<div class="double">
<ul>
<li><a href="http://amstat.tandfonline.com/doi/full/10.1080/00031305.2016.1154108">ASA Statement on P-Values and Statistical Significance</a></li>
<li><a href="https://ww2.amstat.org/meetings/ssi/2017/">Symposium on Statistical Inference</a></li>
</ul>
<p><img src="https://ww2.amstat.org/meetings/ssi/2017/images/logo.png"width="400px"></p>
</div>
</section><section id="its-not-just-me" class="slide level2">
<h2>It’s not just me…</h2>
<div class="double">
<p class"double-flow">
<ul>
<li>Brad Efron &amp; Trevor Hastie</br> <img src="https://web.stanford.edu/~hastie/CASI/images/jacket_wave_cropped.jpg" height="300px"></li>
</ul>
</p>
<p class"double-flow">
<ul>
<li>Jon Wellner: <a href="https://ww2.amstat.org/meetings/jsm/2017/onlineprogram/AbstractDetails.cfm?abstractid=322379">Teaching Statistics in the Age of Data Science</a> <img src="https://ww2.amstat.org/meetings/jsm/2017/images/featured/FeaturedSpeakers-web_Wellner.png" height="200px"></li>
</ul>
</p>
</div>
</section><section id="the-shoulders-of-giants" class="slide level2">
<h2>The shoulders of giants</h2>
<div class="double">
<p class="double-flow">
<ul>
<li>Katherine Halvorsen</li>
<li>Nick Horton</li>
<li>George Cobb</li>
<li>Andrew Bray</li>
</ul>
<img src="http://magazine.amstat.org/wp-content/uploads/2017/02/BOD-Katherine-Halvorsen150x200.jpg" width="150px"> <img src="https://www.amherst.edu/system/files/styles/original/private/media/photo/1545596.jpg" width="150px"> <img src="https://www.causeweb.org/sbi/wp-content/uploads/2015/03/GCobb.png" width="150px"> <img src="https://andrewpbray.github.io/abray-pic2.JPG" width="150px">
</p>
</div>
</section><section id="about-smith" class="slide level2">
<h2>About Smith</h2>
<div class="double">
<p><img src="https://i.forbesimg.com/media/lists/colleges/smith-college_416x416.jpg" alt="smith" width="300px"></p>
<p class="double-flow">
<ul>
<li>liberal arts college for women</li>
<li>new major in <a href="http://www.smith.edu/sds/major.php">Statistical &amp; Data Sciences</a>
<ul>
<li><span class="math inline">\(\geq\)</span> <em>3</em> courses in statistics</li>
<li><span class="math inline">\(\geq\)</span> <em>2</em> courses in programming</li>
<li><span class="math inline">\(\geq\)</span> <em>1</em> course in data science</li>
</ul></li>
<li>no modeling or inference in data science</li>
</ul>
</p>
</div>
</section><section id="sds-220" class="slide level2">
<h2>SDS 220</h2>
<div class="double">
<p class="double-flow">
<ul>
<li>most advanced intro stats course</li>
<li>calc or discrete math pre-req</li>
<li>5 credits: 3 lectures, 1 lab</li>
<li>mostly STEM majors
<ul>
<li>40% EGR and BIO majors</li>
</ul></li>
</ul>
</p>
<p class="double-flow">
<img src="https://images-na.ssl-images-amazon.com/images/I/414KqCmzuhL._SX258_BO1,204,203,200_.jpg" alt="OpenIntro" width="300px">
</div>
</section><section id="three-methods-to-construct-null-distribution" class="slide level2">
<h2>Three Methods to construct null distribution</h2>
<ol type="1">
<li class="fragment next">Simulation: use computer to <em>simulate</em></li>
<li class="fragment next">Exact: use math to <em>compute</em></li>
<li class="fragment next">Approximation: use statistical theory to <em>approximate</em></li>
</ol>
</section><section id="when-i-took-stats" class="slide level2">
<h2>When I took stats</h2>
<ol type="1">
<li class="fragment next"><del>Simulation</del></li>
<li class="fragment next"><del>Exact</del> (in probability class)</li>
<li class="fragment next">Approximation</li>
</ol>
</section>
<section id="an-exampleone-proportion" class="titleslide slide level1"><h2 class="shout">An example:</br>one proportion</h2></section><section id="method-1-simulation" class="slide level2">
<h2>Method #1: simulation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)

outcomes &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">candidate =</span> <span class="kw">c</span>(<span class="st">&quot;clinton&quot;</span>, <span class="st">&quot;trump&quot;</span>))
p_0 &lt;-<span class="st"> </span><span class="dv">1</span>/<span class="dv">2</span>

<span class="co"># http://www.cnn.com/election/results/exit-polls</span>
n &lt;-<span class="st"> </span><span class="dv">246</span>

sim &lt;-<span class="st"> </span>outcomes %&gt;%
<span class="st">  </span>oilabs::<span class="kw">rep_sample_n</span>(<span class="dt">size =</span> n, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">reps =</span> <span class="dv">10000</span>) %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(replicate) %&gt;%
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">N =</span> <span class="kw">n</span>(), 
            <span class="dt">clinton_votes =</span> <span class="kw">sum</span>(candidate ==<span class="st"> &quot;clinton&quot;</span>)) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">clinton_pct =</span> clinton_votes /<span class="st"> </span>N)</code></pre></div>
</section><section id="method-1-simulation-observed" class="slide level2">
<h2>Method #1: simulation, observed</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># observed proportion</span>
p_hat &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">clinton_pct =</span> <span class="fl">0.5092953</span>)

<span class="co"># what we know from data</span>
observed &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> p_hat) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> clinton_pct), 
             <span class="dt">color =</span> <span class="st">&quot;gold&quot;</span>, <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">linetype =</span> <span class="dv">2</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="fl">0.4</span>, <span class="fl">0.6</span>))</code></pre></div>
</section><section id="method-1-simulation-plot" class="slide level2">
<h2>Method #1: simulation, plot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">observed +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> sim, <span class="kw">aes</span>(<span class="dt">x =</span> clinton_pct))</code></pre></div>
<p><img src="jsm2017_files/figure-revealjs/unnamed-chunk-4-1.png" width="768" /></p>
</section><section id="method-2-exact" class="slide level2">
<h2>Method #2: exact</h2>
<ul>
<li>Let <span class="math inline">\(X \sim Bernoulli(p_0)\)</span>, then
<ul>
<li><span class="math inline">\(\mathbb{E}[X] = p_0, \qquad Var[X] = p_0 (1 - p_0)\)</span></li>
</ul></li>
<li>Let <span class="math inline">\(Z = \frac{X_1 + \cdots + X_n}{n}\)</span>, then
<ul>
<li><span class="math inline">\(\mathbb{E}[Z] = p_0, \qquad Var[Z] = \frac{p_0 (1 - p_0)}{n}\)</span></li>
<li>for later, <span class="math inline">\(sd(Z) = \sqrt{\frac{p_0 (1 - p_0)}{n}}\)</span></li>
</ul></li>
</ul>
</section><section id="method-2-exact-plot" class="slide level2">
<h2>Method #2: exact, plot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dbinom_p &lt;-<span class="st"> </span>function (x, size, prob, <span class="dt">log =</span> <span class="ot">FALSE</span>) {
  n *<span class="st"> </span><span class="kw">dbinom</span>(<span class="kw">round</span>(x *<span class="st"> </span>size), size, prob, log)
}
observed +
<span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> dbinom_p, <span class="dt">args =</span> <span class="kw">c</span>(<span class="dt">size =</span> n, <span class="dt">prob =</span> p_0))</code></pre></div>
<p><img src="jsm2017_files/figure-revealjs/unnamed-chunk-5-1.png" width="768" /></p>
</section><section id="method-3-approximation" class="slide level2">
<h2>Method #3: approximation</h2>
<ul>
<li>For <span class="math inline">\(np &gt; 10\)</span> and <span class="math inline">\(n(1-p) &gt; 10\)</span>, <span class="math display">\[\frac{1}{n} \cdot Binomial(n, p_0) \approx Normal \left( p_0, \sqrt{\frac{p_0 (1 - p_0)}{n}} \right) \]</span></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">se_p0 &lt;-<span class="st"> </span><span class="kw">sqrt</span>(p_0 *<span class="st"> </span>(<span class="dv">1</span>-p_0) /<span class="st"> </span>n)</code></pre></div>
</section><section id="method-3-approximation-plot" class="slide level2">
<h2>Method #3: approximation, plot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">observed +
<span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> dnorm, <span class="dt">args =</span> <span class="kw">c</span>(<span class="dt">mean =</span> p_0, <span class="dt">sd =</span> se_p0))</code></pre></div>
<p><img src="jsm2017_files/figure-revealjs/unnamed-chunk-7-1.png" width="768" /></p>
</section><section id="three-methods-comparison-plot" class="slide level2">
<h2>Three methods comparison, plot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">observed +
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> sim, <span class="kw">aes</span>(<span class="dt">x =</span> clinton_pct)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> dbinom_p, <span class="dt">args =</span> <span class="kw">c</span>(<span class="dt">size =</span> n, <span class="dt">prob =</span> p_0), <span class="dt">color =</span> <span class="st">&quot;cyan&quot;</span>) +
<span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> dnorm, <span class="dt">args =</span> <span class="kw">c</span>(<span class="dt">mean =</span> p_0, <span class="dt">sd =</span> se_p0), <span class="dt">color =</span> <span class="st">&quot;magenta&quot;</span>)</code></pre></div>
<p><img src="jsm2017_files/figure-revealjs/unnamed-chunk-8-1.png" width="768" /></p>
</section><section id="three-methods-comparison-table" class="slide level2">
<h2>Three methods comparison, table</h2>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 27%" />
<col style="width: 27%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Simulation</th>
<th style="text-align: center;">Exact</th>
<th style="text-align: center;">Approximation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Assumptions</td>
<td style="text-align: center;">independence</td>
<td style="text-align: center;">independence probability model</td>
<td style="text-align: center;">independence <span class="math inline">\(np &gt; 10\)</span>, etc.</td>
</tr>
<tr class="even">
<td>Pros</td>
<td style="text-align: center;">no math required flexible</td>
<td style="text-align: center;">exact solution</td>
<td style="text-align: center;">uses normal approx. usu. good no CPU required</td>
</tr>
<tr class="odd">
<td>Cons</td>
<td style="text-align: center;">requires computer non-deterministic</td>
<td style="text-align: center;">usu. HARD to derive! not always known</td>
<td style="text-align: center;">more assumptions not exact</td>
</tr>
</tbody>
</table>
</section><section id="example-2-two-categorical-variables" class="slide level2">
<h2>Example #2: two categorical variables</h2>
<ul>
<li>Simulation
<ul>
<li>randomization test</li>
</ul></li>
<li>Exact
<ul>
<li>Fisher’s exact test, hypergeometric</li>
</ul></li>
<li>Approximation
<ul>
<li><span class="math inline">\(\chi^2\)</span>-test of independence</li>
</ul></li>
</ul>
</section>
<section id="unification" class="titleslide slide level1"><h2 class="shout">Unification?</h2></section><section id="datacamp" class="slide level2">
<h2>DataCamp</h2>
<div class="double">
<p class="double-flow">
<ul>
<li><a href="https://www.datacamp.com/tracks/statistics-with-r">Statistics with R</a> skills track</li>
<li>4 courses available now</li>
<li>4 more courses available soon</li>
</ul>
</p>
<p class="double-flow">
<img src="datacamp.png" width="300px">
</p>
</div>
</section><section id="pictures" class="slide level2 fullpage">
<h2>Pictures</h2>
<p><img src="statistical_inference.jpg" class="white" width="600px"></p>
</section><section id="common-setup-with-infer" class="slide level2">
<h2>Common setup with <code>infer</code></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># devtools::install_github(&quot;andrewpbray/infer&quot;)</span>
<span class="kw">library</span>(infer)

fake_null &lt;-<span class="st"> </span><span class="kw">data_frame</span>(
  <span class="dt">candidate =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;clinton&quot;</span>, <span class="st">&quot;trump&quot;</span>), <span class="dt">each =</span> n/<span class="dv">2</span>)
)

<span class="co"># independent of three methods</span>
setup &lt;-<span class="st"> </span>fake_null %&gt;%
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">response =</span> candidate) %&gt;%
<span class="st">  </span><span class="kw">hypothesize</span>(<span class="dt">null =</span> <span class="st">&quot;point&quot;</span>, <span class="dt">p =</span> <span class="kw">c</span>(<span class="st">&quot;clinton&quot;</span> =<span class="st"> </span><span class="fl">0.5</span>, <span class="st">&quot;trump&quot;</span> =<span class="st"> </span><span class="fl">0.5</span>))</code></pre></div>
</section><section id="method-1-with-infer" class="slide level2">
<h2>Method #1 with <code>infer</code></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">setup %&gt;%
<span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">10000</span>, <span class="dt">type =</span> <span class="st">&quot;simulate&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;prop&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">visualize</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> p_hat, <span class="kw">aes</span>(<span class="dt">xintercept =</span> clinton_pct), 
             <span class="dt">color =</span> <span class="st">&quot;gold&quot;</span>, <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">linetype =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="jsm2017_files/figure-revealjs/unnamed-chunk-10-1.png" width="768" /></p>
</section><section id="method-2-with-infer" class="slide level2">
<h2>Method #2 with <code>infer</code></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># not implemented yet; compare to binom.test()</span>
setup %&gt;%
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;prop&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">visualize</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> p_hat, <span class="kw">aes</span>(<span class="dt">xintercept =</span> clinton_pct), 
             <span class="dt">color =</span> <span class="st">&quot;gold&quot;</span>, <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">linetype =</span> <span class="dv">2</span>)</code></pre></div>
</section><section id="method-3-with-infer" class="slide level2">
<h2>Method #3 with <code>infer</code></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># not implemented yet; compare to prop.test()</span>
setup %&gt;%
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;prop&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">visualize</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> p_hat, <span class="kw">aes</span>(<span class="dt">xintercept =</span> clinton_pct), 
             <span class="dt">color =</span> <span class="st">&quot;gold&quot;</span>, <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">linetype =</span> <span class="dv">2</span>)</code></pre></div>
</section><section id="thank-you" class="slide level2">
<h2>Thank you!</h2>
<div class="double">
<p class="double-flow">
<img src="https://media.giphy.com/media/aAW7yJ4m7YCti/giphy.gif" width="400px">
</p>
<p class="double-flow">
<img src="https://image.flaticon.com/icons/png/512/27/27630.png" width="100px"> <a href="mailto:bbaumer@smith.edu">bbaumer@smith.edu</a> </br> <img src="https://www.aha.io/assets/github.7433692cabbfa132f34adb034e7909fa.png" width="100px"> <a href="https://github.com/mine-cetinkaya-rundel/novel-first-stat-ds-jsm2017">beanumber</a> </br> <img src="http://www.tecnologia.com.pt/wp-content/uploads/2016/01/twitter-logo-2.png" width="100px"> <a href="https://twitter.com/BaumerBen">@BaumerBen</a>
</p>
</div>
</section>

  <!--
  To hide progress bar from entire presentation
  just remove “progress” element.
  -->
  <!-- <div class="progress"></div> -->
  <script src="jsm2017_files/rmdshower/node_modules/shower/node_modules/shower-core/shower.min.js"></script>
  <!-- Copyright © 2015 Yours Truly, Famous Inc. -->
  <!-- Photos by John Carey, fiftyfootshadows.net -->

    <script>renderMathInElement(document.body);</script>
  
  
</body>
</html>
